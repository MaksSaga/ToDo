const buttonSendMessage=document.querySelector(".header__form-send-message"),textareaMessage=document.querySelector(".header__form-textarea"),main=document.querySelector(".main");function addMessage(e){main.innerHTML+=`<div class="message">
                            <section class="message__left-section">
                                <label>
                                    <input class="checkbox__real" type="checkbox" name="ready">
                                    <span class="checkbox__custom"></span> 
                                </label>
                            </section>
                            <section class="message__center-section">
                                ${e}
                            </section>
                            <section class="message__right-section">
                                <button class="message__remove">
                                    <img src="assets/img/basket.svg" alt="remove">
                                </button>
                            </section>
                        </div>`,removeButtonsAddListener(),checkboxesAddListener(),changeActiveCheckbox()}function vereficationMessage(){var e=textareaMessage.value.trim();lengthMessage(e)&&(addMessage(e),clearTextarea(textareaMessage))}function lengthMessage(e){return 10<=e.length&&e.length<=3e3&&void 0!==e||(addAlert(`Длина сообщения <span>от 10 до 3000</span> символов. <br> Длина сообщения: <span>${e.length}</span>`,"error"),!1)}function clearTextarea(e){return e.value=""}function removeButtonsAddListener(){document.querySelectorAll(".message__remove").forEach(e=>{e.addEventListener("click",removeMessage)})}function removeMessage(e){var e=e.target.closest(".message"),t=e.querySelector(".message__center-section").innerHTML;main.removeChild(e),addAlert(`Задание: <span>${t}</span> <br> Удалено`,"right")}buttonSendMessage.addEventListener("click",vereficationMessage),removeButtonsAddListener();const buttonRemoveAll=document.querySelector(".remove__all");function clearAllMessage(){main.innerHTML="",addAlert("Все задния очищены :)","right")}function checkboxesAddListener(){document.querySelectorAll(".checkbox__real").forEach(e=>{e.addEventListener("click",changeCheckbox)})}function changeCheckbox(e){var e=e.target,t=whichCheckbox(e);e.checked?t.classList.add("ready"):t.classList.remove("ready")}function whichCheckbox(e){return e.closest(".message").querySelector(".message__center-section")}function changeActiveCheckbox(){document.querySelectorAll(".message__center-section").forEach(e=>{(e.classList.contains("ready")?whichCheckboxAddActive:whichCheckboxRemoveActive)(e)})}function whichCheckboxAddActive(e){e.closest(".message").querySelector(".checkbox__real").checked=!0}function whichCheckboxRemoveActive(e){e.closest(".message").querySelector(".checkbox__real").checked=!1}buttonRemoveAll.addEventListener("click",clearAllMessage),checkboxesAddListener();const alertWraper=document.querySelector(".wraper__alert");function addAlert(e,t="error"){vereficationType(t)&&(removeOverflowAlert(alertWraper.querySelectorAll(".alert")),alertWraper.innerHTML+=`<div class="alert alert__${t}">
                                    <p class="alert__text">${e}</p>
                                </div>`,alertsAddListener(alertWraper.querySelectorAll(".alert")))}function removeOverflowAlert(e){3<=e.length&&alertWraper.removeChild(e[0])}function removeClickAlert(e){e=e.currentTarget;alertWraper.removeChild(e)}function alertsAddListener(e){e.forEach(e=>{e.addEventListener("click",removeClickAlert)})}function clearAlertWraper(){alertWraper.innerHTML=""}function vereficationType(e){return void 0!==e}